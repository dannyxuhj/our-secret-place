(function($,window,document){'use strict';var button_enabled=!0;$('#woo_pp_ec_button_product').on('enable.legacy',function(){button_enabled=!0}).on('disable.legacy',function(){button_enabled=!1});$('#woo_pp_ec_button_product').on('enable',function(){$('#woo_pp_ec_button_product').css({'cursor':'','-webkit-filter':'','filter':'',}).off('mouseup').find('> *').css('pointer-events','')}).on('disable',function(){$('#woo_pp_ec_button_product').css({'cursor':'not-allowed','-webkit-filter':'grayscale( 100% )','filter':'grayscale( 100% )',}).on('mouseup',function(event){event.stopImmediatePropagation();form.find(':submit').trigger('click')}).find('> *').css('pointer-events','none')});var variation_valid=!0;var fields_valid=!0;var form=$('form.cart');var update_button=function(){$('#woo_pp_ec_button_product').trigger((variation_valid&&fields_valid)?'enable':'disable')};var validate_form=function(){fields_valid=form.get(0).checkValidity()&&$(document).triggerHandler('wc_ppec_validate_product_form',[fields_valid,form])!==!1;update_button()};if($('.variations_form').length){variation_valid=!1;$('.variations_form').on('show_variation',function(event,form,purchasable){variation_valid=purchasable;update_button()}).on('hide_variation',function(){variation_valid=!1;update_button()})}
form.on('change','select, input, textarea',function(){setTimeout(validate_form,0)});$(document).ready(function(){validate_form()});var generate_cart=function(callback){var data={'nonce':wc_ppec_generate_cart_context.generate_cart_nonce,'attributes':{},};var field_pairs=form.serializeArray();for(var i=0;i<field_pairs.length;i++){if('add-to-cart'===field_pairs[i].name){field_pairs[i].name='ppec-add-to-cart'}
if(-1!==field_pairs[i].name.indexOf('attribute_')){data.attributes[field_pairs[i].name]=field_pairs[i].value;continue}
data[field_pairs[i].name]=field_pairs[i].value}
data['ppec-add-to-cart']=$('[name=add-to-cart]').val();$.ajax({type:'POST',data:data,url:wc_ppec_generate_cart_context.ajaxurl,success:callback,})};window.wc_ppec_generate_cart=generate_cart;$('#woo_pp_ec_button_product').on('click.legacy',function(event){event.preventDefault();if(!button_enabled){return}
$('#woo_pp_ec_button_product').trigger('disable');var href=$(this).attr('href');generate_cart(function(){window.location.href=href})})})(jQuery,window,document)